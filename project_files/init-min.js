!function(){var e,t,n={2858:function(e){e.exports=function(e){if(Array.isArray(e))return e}},3646:function(e){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},6860:function(e){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},3884:function(e){e.exports=function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(o=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(r)throw a}}return n}},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},693:function(e,t,n){var o=n(9713);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}},3038:function(e,t,n){var o=n(2858),r=n(3884),a=n(521);e.exports=function(e,t){return o(e)||r(e,t)||a()}},319:function(e,t,n){var o=n(3646),r=n(6860),a=n(8206);e.exports=function(e){return o(e)||r(e)||a()}},8:function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(o){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(o)}e.exports=n},9779:function(e,t,n){"use strict";n.d(t,{XA:function(){return o},vR:function(){return r},Gm:function(){return a},Br:function(){return c},PI:function(){return i}});var o="cted",r="_ct_ids",a="call_s",c={NOT_FIND_SELECTOR:1},i={url:"https://gum.criteo.com/sync",c:391,r:2,j:"window.criteo_callback",cookieName:"calltouchCriteoUserId"}},4380:function(e,t,n){"use strict";function o(){var e;if(e||"undefined"==typeof XMLHttpRequest)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}else e=new XMLHttpRequest;return e}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{var c=Boolean(window.event&&window.event.target&&"A"===window.event.target.nodeName),i=Boolean(window.event&&(window.event.target&&"submit"===window.event.target.type||"submit"===window.event.type)),l=o(),s=t?"POST":"GET";l.open(s,e,!c&&!i&&!r),c||i||r||(l.timeout=6e4),a&&(l.withCredentials=!0);var u=null;return"POST"===s&&(l.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01"),l.setRequestHeader("Content-type","application/json"),u=JSON.stringify(t)),l.onreadystatechange=function(){4===l.readyState&&n&&"function"==typeof n&&(200===l.status?n(!0,l.response):0===l.status&&n(!1))},l.send(u),l}catch(e){console.log(e)}}n.d(t,{Qj:function(){return o},ZP:function(){return r}})},9413:function(e,t,n){"use strict";function o(e){var t=document.cookie.match("(?:^|; )"+e+"=([^;]*)");return t?decodeURIComponent(t[1]):null}n.d(t,{Z:function(){return o}})},3186:function(e,t,n){"use strict";n.d(t,{KS:function(){return o},mg:function(){return a},G3:function(){return c}});var o={frontBranch:"frontBranch",backBranch:"backBranch"},r=document.currentScript;function a(){return r&&r.src.split("/").slice(0,3).join("/")}function c(e){var t="mod.calltouch.ru";if("mod.calltouch.ru"===t){var n=r&&r.src.split("/")[2];n&&(t=n)}return t}},8337:function(e,t,n){"use strict";function o(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,(function(){return n.call(e,window.event)}))}n.d(t,{v:function(){return o}})},3621:function(e,t,n){var o={"./autoGoals/autoGoals":[9142,142],"./autoGoals/autoGoals.js":[9142,142],"./dataLayer/dataLayer":[7035,35],"./dataLayer/dataLayer.js":[7035,35],"./dom-observer/dom-observer":[7095,95],"./dom-observer/dom-observer.js":[7095,95],"./forms/forms":[5256,256],"./forms/forms.js":[5256,256],"./historyObserver/historyObserver":[6800,800],"./historyObserver/historyObserver.js":[6800,800],"./widgets/goalObserver":[16,16],"./widgets/goalObserver.js":[16,16],"./widgets/widgets":[7053,53],"./widgets/widgets.js":[7053,53]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(o)},r.id=3621,e.exports=r}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var a=o[e]={exports:{}};return n[e](a,a.exports,r),a.exports}r.m=n,r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return e+"."+{16:"0189c46209549c32529a",35:"71d2bf92a08b330bf90a",53:"3ea4d70f8d6d6c731f7e",95:"320955a586d5737aacee",142:"f63fe98540cb8e63a5a3",256:"2a273c92d976cefd5ba0",800:"4f36d81c25ea0e497e37"}[e]+".js"},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="calltouch-client:",r.l=function(n,o,a,c){if(e[n])e[n].push(o);else{var i,l;if(void 0!==a)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var d=s[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){i=d;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+a),i.src=n),e[n]=[o];var f=function(t,o){i.onerror=i.onload=null,clearTimeout(p);var r=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(e){return e(o)})),t)return t(o)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),l&&document.head.appendChild(i)}},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="https://mod.calltouch.ru/",function(){var e={725:0};r.f.j=function(t,n){var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var a=new Promise((function(n,r){o=e[t]=[n,r]}));n.push(o[2]=a);var c=r.p+r.u(t),i=new Error;r.l(c,(function(n){if(r.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+c+")",i.name="ChunkLoadError",i.type=a,i.request=c,o[1](i)}}),"chunk-"+t,t)}};var t=function(t,n){var o,a,c=n[0],i=n[1],l=n[2],s=0;if(c.some((function(t){return 0!==e[t]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);l&&l(r)}for(t&&t(n);s<c.length;s++)a=c[s],r.o(e,a)&&e[a]&&e[a][0](),e[c[s]]=0},n=self.webpackChunkcalltouch_client=self.webpackChunkcalltouch_client||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e=r(319),t=r.n(e),n=r(693),o=r.n(n),a=r(9713),c=r.n(a),i=document.currentScript;function l(){var e=i&&i.src;if(!e)for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++)t[n]&&t[n].src&&(null!==t[n].src.match(/calltouch.(ru|net)\/init\.js/)||null!==t[n].src.match(/calltouch.(ru|net)\/init-min\.js/))&&(e=t[n].src);var o=(e?e.replace(/^.{1,}[(\)?]/,"").split("&"):[]).find((function(e){return-1!==e.indexOf("id")}));return o?o.replace(/id=/,""):""}var s=function(e){var n={};return{addNoDataQueueRecord:function(e,o,r){var a=e||o;n[a]||(n[a]=[]),n[a].push(e?[o].concat(t()(r)):t()(r))},clearNoDataQueue:function(o,r){var a=Object.keys(n);if(a.length)for(var c=0;c<a.length;c+=1){var i=a[c],l=r.includes(i);if(i===o||l){for(var s=void 0;s=n[i].shift();){var u,d;l?(u=window)[e].apply(u,[i].concat(t()(s))):(d=window)[e].apply(d,[i,s[0]].concat(t()(s.slice(1))))}delete n[i]}}}}};function u(){return(Number(new Date)+Math.random()).toString(16)}function d(e){return e.replace("www.","").split(".").length}function f(){var e=document.cookie.match(/(?:^|; )call_s=([^;]*)/g),t=d(document.location.hostname),n='"d":'.concat(t);if(!e)return null;for(var o=0;o<e.length;o+=1){var r=decodeURIComponent(e[o].replace("; call_s=",""));if(-1!==r.indexOf(n))return r;e[o]=r}return e[0]}var p=r(9413),h=r(3186);function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,p.Z)("_ct"),r=f(),a=(0,p.Z)("_ct_debug_ip"),c=(0,p.Z)("_ct_client_global_id")||"",i=o?"_ct=".concat(o):"",s=r?"call_s=".concat(r):"",d=o?"".concat(i,"; ").concat(s):s,m=o?"":"&uniq_req_id=".concat(t),v=e.createElement("script"),g=(0,h.G3)(h.KS.backBranch),y=n.modId||l();a&&(d="".concat(d,"; _ct_debug_ip=").concat(a)),v.type="text/javascript",v.async=!0;var b=-1!==n.integrationsString.indexOf(";;")?n.integrationsString.substr(0,n.integrationsString.length-1):n.integrationsString;return v.src="https://".concat(g,"/d_client_new.js?param;").concat(b,";ref").concat(encodeURIComponent(e.referrer),";url").concat(encodeURIComponent(e.URL),";cook").concat(encodeURIComponent(d),"&mod_id=").concat(y,"&script_session_id=").concat(u(),"&ctObject=").concat(n.ctObject).concat(m,"&ctClientGlobalId=").concat(c),n.onLoad&&(v.onload=n.onLoad.bind(null,y)),v}var v,g=function(e){var t=e.counters,n=e.loaded,r=e.checkIntegrations,a=e.integrationsToSend,c=e.calltouchObject,i=e.updateCookie,l=document.getElementsByTagName("script")[0],s=Date.now()+""+Math.floor(1e5*Math.random());r(t,!0);for(var u=0;u<t.length;u+=1){var d="",f=a[t[u]];f&&(d=f.join(";"));var p=m(document,s,{integrationsString:d.replace(/=/gi,""),modId:t[u],ctObject:c,onLoad:function(e){n=n.map((function(t){return t.counter===e?o()({},t,{isLoaded:!0}):t}))}});try{l.parentNode.insertBefore(p,l),f&&i(t[u],d)}catch(e){console.log(e)}}},y=function(e,t,n,o,r){var a=e[n.modId];if(a){var c=t.map((function(e){var t=a[e.patternType];if(!t)return{patternType:e.patternType,patternName:e.patternName,patternValue:void 0,error:"PatternType not found"};var n=t.find((function(t){return t[e.patternType]===e.patternName}));return n?{patternType:e.patternType,patternName:e.patternName,patternValue:n.value,error:null}:{patternType:e.patternType,patternName:e.patternName,patternValue:void 0,error:"PatternName not found"}}));o({siteId:n.siteId,modId:n.modId,fields:c})}else r({error:!0,errorText:"No params by modId found"})},b=(v={},function(){var e=[].slice.call(arguments),n=e[0],o=e[1],a=e[2],c=e.slice(3,e.length);if(v[o])return v[o].apply(v,[n,a].concat(t()(c)));r(3621)("./".concat(o,"/").concat(o)).then((function(e){return v[o]=e.default,v[o].apply(v,[n,a].concat(t()(c)))})).catch((function(e){console.log("Calltouch Error: ".concat(o," failed to load: "),e)}))}),_=b;function I(e){for(var t,n=document.getElementsByTagName("script"),o=[],r=(0,h.mg)(),a=0;a<n.length;a++)n[a]&&n[a].src&&((r&&0===n[a].src.indexOf(r+"/d_client_new.js")||null!==n[a].src.match(/calltouch.(ru|net)\/d_client_new\.js/)||n[a].classList.contains("ct_script"))&&o.push(n[a]),e&&(r&&0===n[a].src.indexOf(r+"/init-widget.js")||null!==n[a].src.match(/calltouch.(ru|net)\/init-widget\.js/))&&o.push(n[a]));for(;t=o.shift();)t.remove();if(e){var c=document.querySelector("#CalltouchWidgetFrame");c&&c.remove()}}var w=r(4380);function C(e,t,n,r){try{var a=Boolean(window.event&&window.event.target&&"A"===window.event.target.nodeName),c=Boolean(window.event&&(window.event.target&&"submit"===window.event.target.type||"submit"===window.event.type)),i=(0,w.Qj)(),l=t?"POST":"GET";i.open(l,e,!a&&!c&&!r),a||c||r||(i.timeout=6e4),i.setRequestHeader("Content-type","application/json"),i.onreadystatechange=function(){if(4===i.readyState&&n)if(200===i.status){var e=function(e){var t;try{t=JSON.parse(e)}catch(e){}return t}(i.response);e?e.data?n(!0,o()({},e.data)):e.error?n(!1,o()({},e.error)):n(!1,{type:"unknown_error",message:"Unknown JSON format",details:{}}):n(!1,{type:"unknown_error",message:"JSON parse error",details:{}})}else 0===i.status?n(!1,{type:"unknown_error",message:"Request timeout exceeded or connection reset",details:{}}):n(!1,{type:"unknown_error",message:"Unexpected HTTP code: ".concat(i.statusText),details:{}})},i.send(t)}catch(e){n&&n(!1,{type:"unknown_error",message:"Unexpected js exception",details:{}})}}var k=r(8337);function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new Date,n=t.getFullYear(),o=t.getMonth(),r=t.getDate();return new Date(n+e,o,r)}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o()({},n)||{},a=r.expires;if(a&&"number"==typeof a){var c=new Date;c.setTime(1e3*a),r.expires=c.toUTCString()}a&&a.toUTCString&&(r.expires=a.toUTCString());var i=encodeURIComponent(t),l="".concat(e,"=").concat(i);for(var s in r)r[s]&&(l+="; ".concat(s,"=").concat(r[s]));l+="; path=/",document.cookie=l}function T(e,t,n){return new Promise((function(o,r){try{var a=x(5),c="ctClientGlobalId=".concat((0,p.Z)("_ct_client_global_id")||"","&domain=").concat(document.location.origin),i="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/global_cookie.php?").concat(c);(0,w.ZP)(i,null,(function(c,i){if(c&&i&&(N("_ct_client_global_id",i,{expires:a}),n&&e)){var l="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/set_external_data.php"),s={modId:t,siteId:n,sessionId:e,ctClientGlobalId:i};(0,w.ZP)(l,s,(function(e){e?o(i):r(null)}))}}),!1,!0)}catch(e){console.error("Calltouch error: ",e)}}))}var S=r(3038),O=r.n(S),P=r(9779);function j(e){var t=e.modId,n=e.sessionId,r=e.endSessionTime,a=e.phones,i=e.domain,l=(0,p.Z)(P.Gm),s=i?d(i):2,u=Object.keys(a).reduce((function(e,t){return o()({},e,c()({},t,a[t].phoneId.toString()))}),{});if(l&&-1!==l.indexOf("<!>"))try{var f=JSON.parse(l.replace(/<!>/g,""));f[t]=[r,n,u],f.d=0===s?1:s,N(P.Gm,"<!>".concat(JSON.stringify(f),"<!>"),{domain:i?".".concat(i):null,expires:r})}catch(e){console.warn("Calltouch call cookie error: ",error)}else{var h,m=(h={},c()(h,t,[r,n,u]),c()(h,"d",s),h);N(P.Gm,"<!>".concat(JSON.stringify(m),"<!>"),{domain:i,expires:r})}}var E="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/send_denial_event.php"),A=function(e){var t="".concat(E,"?siteId=").concat(e.siteId,"&sessionId=").concat(e.sessionId);(0,w.ZP)(t,null,(function(){}))};function L(e){var t=e.siteId,n=e.sessionId,o=e.modId,r=e.setBackendCookie,a=e.setCtCookie,c=e.setLkCookie,i=e.endSessionTime,l=e.phones,s=e.domain,u=e.denialTime,d=e.calltouchDnsHost,f=(e.calltouchObject,(0,p.Z)(P.vR));if(f&&-1!==f.indexOf(o)){var m=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=o?decodeURIComponent(o):decodeURIComponent((0,p.Z)(P.vR));if("null"===r)return{siteId:null,sessionId:null};for(var a=r.split("_"),c=0;c<a.length;c+=1){var i=a[c].split(":"),l=O()(i,3),s=l[0],u=l[1],d=l[2];if(s===e){t=d,n=u;break}}return{siteId:n,sessionId:t}}(o,f),v=m.sessionId;v!==n&&N(P.vR,f.replace(v,n))}else N(P.vR,f?f.concat("_".concat(o,":").concat(t,":").concat(n)):"".concat(o,":").concat(t,":").concat(n));if(N("_ct_session_id",n),N("_ct_site_id",t),d){var g=encodeURIComponent(a||(0,p.Z)("_ct_server")||(0,p.Z)("_ct")||""),y=window.location.protocol+"//"+d,b=(0,w.ZP)(y,{ct_server_value:g},null,!1,!0);b&&b.addEventListener("error",(function(){var e="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/calltouchdns_not_available.php");(0,w.ZP)(e,{site_id:t,calltouch_dns_host:d})}))}r&&j({modId:o,sessionId:n,endSessionTime:i,phones:l,domain:s}),a&&N("_ct",a,{expires:x(5)}),c&&N("_tolk",c,{domain:s}),u&&setTimeout(A.bind(null,{siteId:t,sessionId:n}),1e3*u)}var R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=null;return function(){for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];if(n)e.apply(null,a);else{var i=function(){e.apply(null,a),o=null};o&&clearTimeout(o),o=setTimeout(i,t)}}}((function(e,t,n){var o="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/set_attrs.php");try{var r=t.siteId,a=t.sessionId,c=t.modId;if(e){var i={attrs:e,siteId:r,sessionId:a,modId:c};(0,w.ZP)(o,i,n||null,!1)}}catch(e){console.log(e)}}),1e3,!0),B=function(e){try{var t=(0,p.Z)(P.PI.cookieName);if(!t&&document&&document.body){window.criteo_callback=function(t){t&&t.userid&&(N(P.PI.cookieName,t.userid),R('{"mapped_user_id":"'.concat(t.userid,'","mapping_key":"').concat(P.PI.c,'"}'),e))};var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="".concat(P.PI.url,"?c=").concat(P.PI.c,"&r=").concat(P.PI.r,"&j=").concat(P.PI.j),document.body.appendChild(n)}else R('{"mapped_user_id":"'.concat(t,'","mapping_key":"').concat(P.PI.c,'"}'),e)}catch(e){console.log(e)}},D=null,G=[],M=0;function Z(){try{var e={},t=null,n=(o={},G.forEach((function(e){var t=e.substr(2),n=(0,p.Z)("_ga_".concat(t));if(n){var r=n.split(".")[2];r.length>8&&(o[e]=r)}})),o);if(Object.keys(n).length&&(Object.entries(n).forEach((function(t){var n=O()(t,2),o=n[0],r=n[1];e["ga_user_id_".concat(o)]=r})),R(JSON.stringify(e),D),G=G.filter((function(e){return!n[e]})),e={},!G.length))return;if("function"!=typeof window.gtag)return void(++M<=5&&setTimeout(Z,5e3));G.forEach((function(n){n&&window.gtag("get",n,"session_id",(function(o){try{if(!o)return;e["ga_user_id_".concat(n)]=o,t&&clearTimeout(t),t=setTimeout((function(){R(JSON.stringify(e),D),e={}}),1e3)}catch(e){console.log(e)}}))}))}catch(e){console.log(e)}var o}var U="_ct_dtg_sp",q=null,H=0;function K(){try{var e="",t=document.cookie.match("(?:^|; )_sp_id[^=]*=([^.^;]*)");if(t&&t[1]&&(e=decodeURIComponent(t[1])),!e)return void(++H<=5&&setTimeout(K,5e3));R('{"datago_id":"'.concat(e,'"}'),q,(function(e){if(e)try{window.localStorage.setItem(U,String(q.sessionId))}catch(e){}}))}catch(e){console.log(e)}}var F=function(e){try{if(window.localStorage.getItem(U)===String(e.sessionId))return;q=e,K()}catch(e){console.log(e)}},X=function(e){if(e&&document&&document.body){var t=document.createElement("img");t.src=e,t.style.setProperty("display","none","important"),t.style.setProperty("width","0px","important"),t.style.setProperty("height","0px","important"),t.alt="",document.body.appendChild(t)}},J=[{id:"gc",name:"client_id",checkCookie:function(){var e=(0,p.Z)("_ga"),t=e?e.slice(6):null;return t?{id:this.id,integrationName:this.name,value:t}:null},searchRule:function(){var e=window.GoogleAnalyticsObject,t=e&&"string"==typeof e?window[e]:window.ga;if(t&&"function"==typeof t&&t.getAll){var n=t.getAll()[0],o=n?n.get("clientId"):null;if(o)return{id:this.id,integrationName:this.name,value:o}}return null}},{id:"yc",name:"ya_client_id",checkCookie:function(){var e=(0,p.Z)("_ym_uid");return e?{id:this.id,integrationName:this.name,value:e}:null},searchRule:function(){if(window.ym&&window.ym.a&&window.ym.a[0]){var e=window["yaCounter".concat(window.ym.a[0][0])];if(e&&e.getClientID)return{id:this.id,integrationName:this.name,value:e.getClientID()}}for(var t in window)if("y"===t[0]&&-1!==t.indexOf("yaCounter")&&window[t]&&window[t].getClientID)return{id:this.id,integrationName:this.name,value:window[t].getClientID()};return null}},{id:"cri",name:"client_ref_id",searchRule:function(){var e=window.location.search.split("&").find((function(e){return-1!==e.indexOf("client_ref_id")})),t=e&&e.replace(/(\?|(client_ref_id=))/gm,"");return t?{id:this.id,integrationName:this.name,value:t}:null}},{id:"fb",name:"fbp",checkCookie:function(){var e=(0,p.Z)("_fbp");return e?{id:this.id,integrationName:this.name,value:e}:null},searchRule:function(){return null}}];function Q(){var e=(0,p.Z)(P.XA);return!e||-1!==e.indexOf("modId")&&-1===e.indexOf(":")?e?e.split("|"):[]:(N(P.XA,""),[])}var V=function(){var e={},n={},r={};function a(n){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var r=Q(),a=[];n.forEach((function(n){e[n]||(e[n]=[]);var c=o?r.find((function(e){return-1!==e.indexOf(n)})):void 0;c?e[n]=t()(c.substr(c.indexOf(";")+1,c.length).split(";")):(a.length||J.forEach((function(e){var t=e.searchRule()||e.checkCookie&&e.checkCookie();t&&a.push("".concat(t.integrationName,"=").concat(t.value))})),e[n]=a.concat())}))}catch(e){console.error("Calltouch integrations error: ",e)}}function i(e,t){n[e]||(n[e]=[]),t.forEach((function(t){n[e].push(t)})),s(e,t.join(";"),!0)}function l(e){return e.map((function(e){var t=e.split(";"),n=[];return t.filter((function(e){var t=e.split("=")[0];return!(t&&n.includes(t)||(n.push(t),0))})).join(";")}))}function s(o,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r&&r.length)try{var c=(0,p.Z)(P.XA),i=c&&c.length?c.split("|"):[],s=i.findIndex((function(e){return-1!==e.indexOf(o)})),u="modId=".concat(o,";").concat(r);-1!==s?i[s]=a?"".concat(i[s],";").concat(r):u:i.push(u);var d=l(i);N(P.XA,d.join("|")),e[o]&&(n[o]=t()(e[o]),e[o].length=0)}catch(e){console.error("Calltouch integrations error: ",e)}}return{checkIntegrations:a,integrationsToSend:e,updateIntegrations:function t(l,s,u){var d=r[l]||1;if(d<=15){if(r[l]=d+1,a([l],!1),e[l]&&e[l].length)try{var f=[];if(e[l].forEach((function(e){(n[l]?n[l].find((function(t){return t===e})):void 0)||f.push(e)})),f.length>0&&u&&s){var p="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/set_external_data.php?id=").concat(l),m=f.reduce((function(e,t){var n=t.split("="),r=O()(n,2),a=r[0],i=r[1];return o()({},e,c()({},a,i))}),{}),v=o()({modId:l,siteId:u,sessionId:s},m);(0,w.ZP)(p,v,i.bind(null,l,f))}}catch(e){console.error("Calltouch integrations error: ",e)}window.setTimeout(t.bind(null,l,s,u),1e3)}},updateCookie:s}};r(8);var $="\n    onmessage = ".concat(function(e){var t=/\D/gi;function n(e,n,o,r,a){var c=r+a,i=r.substr(0,1),l=a.substr(0,1),s=e.split(""),u=[],d="full",f=0;function p(e,t,n,o,r){var a=0,c=n;if(r){var i=o.length-n.length;i>0&&(c=Array(i+1).join(" ")+n)}for(var l=0;l<t.length;l+=1){var d=s[e+=0===l?0:1];if(/\s/g.test(d)||" "===d||isNaN(Number(d)))u.push(d);else if(u.push(c[a]||""),(a+=1)===o.length){c.length>o.length&&u.push(c.substr(o.length,c.length));break}}return e}for(;f<s.length+50;f+=1){var h=s[f];if(h===i||h===l){var m=e.substr(f,e.length),v=m.replace(t,""),g=v.substr(0,c.length),y=v.substr(0,a.length);g===c?(f=p(f,m,n,r),f=p(f+=1,e.substr(f,e.length),o,a,!0)):y===a?(d="part",f=p(f,e.substr(f,e.length),o,a)):u.push(h)}else{if(void 0===h)break;u.push(h)}}return{value:u.join(""),type:d,oldCode:r,newCode:n,newPhone:o,oldPhone:a}}var o=e.data,r=o.links,a=o.elements,c=o.params,i=o.replacementId,l=c.map((function(e){return e.phone_code+e.phone_number})),s=[],u=[];if(r)for(var d=function(e){var n=r[e];if(!n.href||!n.href.toLowerCase)return"continue";var o=n.href.toLowerCase(),a=-1!==o.indexOf("tel:")||-1!==o.indexOf("callto:"),i=a?n.href.replace(t,""):"",u=a?l.findIndex((function(e){return-1!==i.indexOf(e)})):-1;if(-1!==u){var d=n.href,f=c[u],p=f.value_code,h=f.value_phone;d=function(e,n,o){var r=-1!==e.indexOf("callto"),a=(r?e.replace("callto:",""):e.replace("tel:","")).replace(t,"")[0];return(r?"callto":"tel")+":"+("8"===a?"":"+")+a+n+o}(n.href,p,h),s.push({id:n.id,newHref:d,replacedText:""})}},f=0;f<r.length;f+=1)d(f);if(a)for(f=0;f<a.length;f+=1){var p=a[f],h=c[p.oldPhoneIndex],m=h.value_code,v=h.value_phone,g=h.phone_code,y=h.phone_number,b=n(p.content,m,v,g,y);u.push({id:p.id,replacedText:b,prevText:p.content})}var _={links:s,elements:u,replacementId:i};if(e.noPost)return{data:_};postMessage(_)}.toString(),"\n");function W(e,t){if(3!==e.nodeType&&e.querySelector(t))return!0;for(var n=0,o=e.childNodes.length;n<o;n+=1)W(e.childNodes[n],t)}function Y(e,t){if(e.innerHTML&&-1!==JSON.stringify(e.innerHTML).indexOf(t))return!0;for(var n=0,o=e.childNodes.length;n<o;n+=1)Y(e.childNodes[n],t)}var z=function(e){if(-1!==e.indexOf(":has")||-1!==e.indexOf(":contains")){var t=-1!==e.indexOf(":contains"),n=t?e.indexOf(":contains"):e.indexOf(":has"),o=-1!==e.substr(0,n).indexOf(":not("),r=document.querySelectorAll(":scope ".concat(e.substr(0,o?n-5:n))),a=e.substr(t?n+11:n+5,e.length).split(")")[0],c=e.substr(t?n+11+a.length+1:n+5+a.length+1,e.length);")"===c&&(c="");var i=[];return r.forEach((function(e){var n=t?Y(e,a.substr(0,a.length-1)):W(e,a);if(!o&&n||o&&!n){var r=c&&c.length&&e.querySelectorAll(c);r?[].slice.call(r).forEach((function(e){i.push(e)})):i.push(e)}})),i}return document.querySelectorAll(":scope ".concat(e))},ee={SCRIPT:1,LINK:1,IMG:1,SVG:1,PATH:1,STYLE:1,NOSCRIPT:1,IFRAME:1,INPUT:1,SELECT:1,OPTION:1,TEXTAREA:1,HEAD:1,META:1,TITLE:1},te=/\d/i,ne=/\D/gi,oe={inCodeFirst:"\\s*",inCodeLast:"\\D*",betweenCodePhone:"\\D*",inPhone:"\\D*",after:"(?!@)",checkBefore:new RegExp("@\\d*$","i")},re={inPhone:"[^\\da-zа-я+,.]*",after:"(?!@|[^\\S\\r\\n]*\\d)",checkBefore:new RegExp("@$|\\d[^\\S\\r\\n]*$|(\\d\\s*){3,7}([^\\d\\s]\\s*){0,3}$","i")};function ae(e,t){!function(e,t){for(var n=e.map((function(e){return{oldNumber:e.phone_code+e.phone_number,newNumber:e.value_code+e.value_phone,partialOldNumber:e.phone_code===e.value_code&&e.phone_number,partialNewNumber:e.phone_code===e.value_code&&e.value_phone}})),o=t.querySelectorAll("a"),r=function(e){var t=o[e],r=t.href;if(!r||"string"!=typeof r)return"continue";var a=r.toLowerCase().trim();if(-1===a.indexOf("tel:")&&-1===a.indexOf("callto:"))return"continue";var c=a.replace(ne,""),i=null;n.some((function(e){var t=c.indexOf(e.oldNumber),n=-1!==t;return n?i={digitIndex:t,old:e.oldNumber,new:e.newNumber}:e.partialOldNumber&&c===e.partialOldNumber&&(i={digitIndex:t,old:e.partialOldNumber,new:e.partialNewNumber},n=!0),n})),i&&(t.href=function(e,t,n,o){for(var r=e.split(""),a=0,c="",i=0,l=0;l<r.length;l++){var s=r[l];i<=t&&s.match(te)&&i++,i>t&&a<n.length&&s===n[a]?(c+=o[a]||"",++a>=n.length&&a<o.length&&(c+=o.substring(a))):c+=s}return c}(r,i.digitIndex,i.old,i.new))},a=0;a<o.length;a++)r(a)}(e,t),function(e,t){for(var n,o=[],r=e.map((function(e){var t,n,r=e.phone_code.split(""),a=e.phone_number.split(""),c=e.value_code.split(""),i=e.value_phone.split(""),l=e.phone_code===e.value_code;t=r.length<=3?r.join(oe.inCodeFirst):r.slice(0,3).join(oe.inCodeFirst)+oe.inCodeLast+r.slice(3).join(oe.inCodeLast),t+=oe.betweenCodePhone+a.join(oe.inPhone)+oe.after,o.push(t),l&&(n=a.join(re.inPhone)+re.after,o.push(n));var s=a.length-i.length;if(s>0)for(var u=0;u<s;u++)i.unshift("");return{oldCodeChars:r,oldPhoneChars:a,newCodeChars:c,newPhoneChars:i,reFull:new RegExp(t,"i"),rePart:l&&new RegExp(n,"i")}})),a=new RegExp(o.join("|"),"ig"),c=[],i=[],l=document.createNodeIterator(t,NodeFilter.SHOW_TEXT);n=l.nextNode();)n.parentElement&&ee[String(n.parentElement.tagName).toUpperCase()]||(c.push(n.textContent),i.push({node:n,oldText:n.textContent,newText:""}));for(var s,u=c.join(""),d=[],f=0,p=function(){var e=s[0],t=!0,n=r.find((function(n){var o=n.reFull,r=n.rePart;if(o.exec(e))return!u.slice(f,s.index).match(oe.checkBefore);var a=r&&r.exec(e);return!(!a||a[0]!==e||u.slice(f,s.index).match(re.checkBefore)||(t=!1,0))}));n&&(d.push({startIndex:s.index,phone:n,isFull:t}),f=a.lastIndex)};s=a.exec(u);)p();if(d.length){for(var h=0,m=d[h],v=0,g=0,y=i[g],b=0,_=!1,I=0,w=m.isFull;h<d.length&&g<i.length;){if(_){var C=w?m.phone.oldCodeChars:m.phone.oldPhoneChars,k=w?m.phone.newCodeChars:m.phone.newPhoneChars,x=C[v],N=y.oldText[b];if(N===x){var T=v;!w&&k.length>C.length&&(T=v+k.length-C.length,0===v&&(y.newText+=k.slice(0,T).join(""))),y.newText+=k[T]||"",v++}else y.newText+=N;if(C.length<=v&&(w?(C.length<k.length&&(y.newText+=k.slice(v).join("")),w=!1):(h++,_=!1,w=(m=d[h])&&m.isFull),v=0),b++,_&&b<y.oldText.length)continue}if(!_&&m){var S=m.startIndex-I;if(y.oldText.length>S){var O=y.oldText.slice(b,S);y.newText+=O,b=S,v=0,_=!0;continue}}y.newText&&b<y.oldText.length&&(y.newText+=y.oldText.slice(b)),I+=y.oldText.length,y=i[++g],b=0}for(var P=document.createElement("span"),j=0;j<i.length;j++){var E=i[j];E.newText&&(P.innerHTML=E.newText,E.node.textContent=P.textContent)}}}(e,t)}var ce=new Blob([$]);function ie(e){!function(e){e.reduce((function(e,t){var n=t.selector;return(n&&"body"!==n?z(n):[document]).forEach((function(n){e.has(n)?e.get(n).push(t):e.set(n,[t])})),e}),new Map).forEach(ae)}(e)}window.URL.createObjectURL(ce);var le=function(e,t){var n;try{var o=function(t){var o=!0,r=!1,a=void 0;try{for(var c,i=t[Symbol.iterator]();!(o=(c=i.next()).done);o=!0){var l=c.value;"childList"===l.type&&l.addedNodes.length&&(window.clearTimeout(n),n=window.setTimeout(ie.bind(null,e.params),300))}}catch(e){r=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(r)throw a}}};ie(e.params),"complete"!==document.readyState&&(0,k.v)(window,"load",ie.bind(null,e.params)),e.useObserver&&r.e(95).then(r.bind(r,7095)).then((function(e){e.default(o)})).catch((function(e){console.warn("Calltouch Error: MutationObserver failed to load: ",e)}))}catch(e){console.warn("Calltouch matcher error: ",e)}};function se(e,t){e&&e.innerHTML&&(e.innerHTML=t)}function ue(e,t){if(e){if(e.childNodes.length){var n="class"===t.type?e.querySelectorAll(".".concat(t.selector)):e.querySelector("#".concat(t.selector));n&&("class"===t.type?n.forEach((function(e){return se(e,t.value)})):se(n,t.value))}var o=e.classList,r=e.id;"class"===t.type&&o&&o.contains(t.selector)&&se(e,t.value),r&&e.getAttribute("id")===t.selector&&se(e,t.value)}}var de=function(e){function t(t){var n=!0,o=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var i=a.value;"childList"===i.type&&i.addedNodes.length&&i.addedNodes.forEach((function(t){ue(t,e)}))}}catch(e){o=!0,r=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw r}}}if(e.selector&&e.selector.length)try{!function(e){if("class"===e.type){var t=document.querySelectorAll(".".concat(e.selector));t&&t.length&&t.forEach((function(t){se(t,e.value)}))}else{var n=document.querySelector("#".concat(e.selector));n&&se(n,e.value)}}(e),e.useObserver&&r.e(95).then(r.bind(r,7095)).then((function(e){e.default(t)})).catch((function(e){console.log("Calltouch Error: MutationObserver failed to load: ",e)}))}catch(e){console.log("Calltouch Error: ",e)}else console.log("Calltouch Error: selector cannot be empty")};r.p=function(){var e="mod.calltouch.ru",t="https://mod.calltouch.ru/";if(t.includes(e)){var n=document.currentScript,o=n&&n.src.split("/")[2];o&&(t=t.replace(e,o))}return t}(),function(e,n){"function"!=typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var r,a,i,u,d,f,m,v=e.CalltouchDataObject||"ct",b=!!e.CalltouchDataObject,S=b&&e[v].callbacks&&void 0===e[v].loaded,O={},P=[],E=[],A=[],R=n.URL,M=new Date,U=(0,p.Z)("_ct_server")||null,q=(0,p.Z)("_ct")||null;U&&q!==U&&(N("_ct",U,{expires:x(1)}),q=U);var H=V(),K=H.checkIntegrations,J=H.integrationsToSend,Q=H.updateIntegrations,$=H.updateCookie;if((!b||S||e[v]&&"boolean"==typeof e[v].loaded&&!e[v].loaded)&&(P=b?e[v].callbacks:[],(E=b&&!S?e[v].counters:[l()]).forEach((function(e){A.push({counter:e,isLoaded:!1})})),e[v]=function(){var p,b,k={},x={},N=new Promise((function(e,t){p=e,b=t})),P=null;function U(e,t){var n=Object.keys(k);if(0===n.length||!t)return{siteId:null,sessionId:null};var o=e?k[n[0]]||{}:k[t]||{};return{siteId:Number(o.siteId),sessionId:Number(o.sessionId)}}function H(e){r={},a={};var t={counters:E,loaded:A,checkIntegrations:K,integrationsToSend:J,calltouchObject:v,updateCookie:$};I(e),g(t)}function V(e,t,n){var o,r=e&&"withSubPools"===e?Object.keys(k[t].phones||{}).filter((function(e){return k[t].phones[e].subPoolName.length>0})).map((function(e){return{subPoolId:e,subPoolName:k[t].phones[e].subPoolName,phoneNumber:k[t].phones[e].phoneNumber}})):void 0,a=r?"phonesAndSubpools":"phoneNumbers",i=r||Object.keys(k[t].phones||{}).filter((function(e){return k[t].phones[e].subPoolName.length>0})).map((function(e){return k[t].phones[e].phoneNumber}));return o={modId:t,siteId:k[t].siteId,sessionId:k[t].sessionId,ctClientId:k[t].ctClientId},c()(o,a,i),c()(o,"ctGlobalId",n),o}function W(e,t,n){if(t.callback&&"function"==typeof t.callback){var o=Array.isArray(e);t.callback(o,o?e.map((function(e){return{subPoolId:e.subPoolId,subPoolName:e.subPoolName,phoneNumber:e.phoneNumber}})):e)}Array.isArray(e)&&(e.forEach((function(e){k[n.modId].phones[e.subPoolId]={phoneId:e.phoneId,phoneNumber:e.phoneNumber,subPoolName:e.subPoolName,phoneBody:e.phoneBody,phoneCode:e.phoneCode}})),j({modId:n.modId,sessionId:n.sessionId,endSessionTime:k[n.modId].endSessionTime,phones:k[n.modId].phones,domain:k[n.modId].domain}))}var Y=s(v),z=Y.addNoDataQueueRecord,ee=Y.clearNoDataQueue,te={create_session:function(e){var t=e.siteId,o=e.sessionId,r=e.modId,a=e.setCookie,c=e.endSessionTime,i=e.phones,l=e.domain,s=e.GA4,u=e.dataGoEnabled,d=e.setCtCookie,f=e.setLkCookie,h=e.denialTime,m=e.calltouchDnsHost;O.session=e,L({siteId:t,sessionId:o,modId:r,setBackendCookie:a,setCtCookie:d,setLkCookie:f,endSessionTime:c,phones:i,domain:l,denialTime:h,calltouchDnsHost:m,calltouchObject:v}),q=d,R=n.URL,Q(r,o,t),ee(r,Object.keys(te)),T(o,r,t).then((function(e){P=e,p()})).catch((function(e){console.error("Calltouch global cookie error: ",e),b()})),s&&s.length&&function(e,t){try{G=e,D=t,Z()}catch(e){console.log(e)}}(s,{siteId:t,sessionId:o,modId:r}),u&&F({siteId:t,sessionId:o,modId:r})},goal:function(){try{var e=[].slice.call(arguments),t=e[0],n="boolean"==typeof e[1]?e[1]:Boolean(x.goal)||Boolean(x.send_goal),o="boolean"==typeof e[1]?e[2]:e[1];M=new Date;var r=o.siteId,a=o.sessionId,c=o.modId;if("form.submit"===t){var i="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/auto_goal_event.php"),l={siteId:r,sessionId:a,goalTypeId:7};(0,w.ZP)(i,l,null,n)}else if(t){var s="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/goal_event.php"),u={goalAlias:t,siteId:r,sessionId:a,modId:c};(0,w.ZP)(s,u,null,n)}}catch(e){console.error("Calltouch goal error: ",e)}},set_attrs:function(){try{var e=[].slice.call(arguments),t=e[0],n="boolean"==typeof e[1]?e[1]:Boolean(x.set_attrs),o="boolean"==typeof e[1]?e[2]:e[1];M=new Date;var r="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/set_attrs.php"),a=o.siteId,c=o.sessionId,i=o.modId;if(t){var l={attrs:t,siteId:a,sessionId:c,modId:i};(0,w.ZP)(r,l,null,n)}}catch(e){console.error("Calltouch set_attrs error: ",e)}},send_ecommerce:function(){try{var e=[].slice.call(arguments),t=e[0],n=e[1],o="boolean"==typeof e[2]?e[2]:Boolean(x.send_ecommerce),r="boolean"==typeof e[2]?e[3]:e[2];M=new Date;var a=r.siteId,c=r.sessionId,i=r.modId,l=r.ctClientId,s="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/ecommerce.php");t&&"string"==typeof t||console.error("Calltouch eCommerce error: no type found"),"refund"===t||n&&n.products&&Array.isArray(n.products)&&0!==n.products.length||console.error("Calltouch eCommerce error: no products found"),a||console.error("Calltouch eCommerce error: no siteId found"),c||console.error("Calltouch eCommerce error: no sessionId found"),"refund"!==t&&"purchase"!==t||n&&n.id||console.error("Calltouch eCommerce error: no operation id found");var u=void 0;"purchase"===t&&n.manager&&n.manager.length&&(u=n.manager.length>50?n.manager.substr(0,50):n.manager);var d={siteId:a,sessionId:c,modId:i,ctClientId:l,eventType:t,id:n.id,products:n?n.products:[],manager:u,fio:n&&n.fio||null,email:n&&n.email||null,phoneNumber:n&&n.phoneNumber||null,comment:n&&n.comment||null,addTags:n&&n.addTags||[]};(0,w.ZP)(s,d,(function(){}),o)}catch(e){console.error("Calltouch send_ecommerce error: ",e)}},modules:function(){var e=arguments[1];return"isLoaded"===e&&void 0===_.apply(void 0,[v].concat(Array.prototype.slice.call(arguments)))?(_.apply(void 0,[v].concat(Array.prototype.slice.call(arguments))),!1):_.apply(void 0,[v].concat(Array.prototype.slice.call(arguments)))},init_criteo:function(e){B(e)},append_pixel:function(e){X(e)},calltracking_params:function(e,t,n){return n&&"withPromise"===n?new Promise((function(n){N.then((function(){var o="string"==typeof e&&k[e]?V(t,e,P):Object.keys(k).map((function(e){return V(t,e,P)}));n(o)})).catch((function(){var o="string"==typeof e&&k[e]?V(t,e,null):Object.keys(k).map((function(e){return V(t,e,null)}));n(o)}))})):"string"==typeof e&&k[e]?V(t,e,P):Object.keys(k).map((function(e){return V(t,e,P)}))},set_replacement_params:function(e,t){r||(r={},a={}),r[t.modId]=e.params,i=i?i>60*e.pool_time?60*e.pool_time:i:60*e.pool_time},calltracking_patterns:function(t,a){return new Promise((function(c,l){if(A.every((function(e){return e.isLoaded}))||l({error:!0,errorText:"Replacement is updating"}),(new Date-M)/1e3>i||n.URL!==R){r=void 0,M=new Date,A=A.map((function(e){return o()({},e,{isLoaded:!1})})),H(!1);var s=0,u=setInterval((function(){10!==(s+=1)||r&&(!r||r[a.modId])||(e.clearInterval(u),l({error:!0,errorText:"Could not fetch data"})),r&&r[a.modId]&&(e.clearInterval(u),y(r,t,a,c,l))}),300)}else r||l({error:!0,errorText:"No params found"}),y(r,t,a,c,l)}))},calltracking_replacement_params:function(e){return{params:r[e],replacementFlatParams:a}},reload:function(){H(!0)},set_sync:function(e){try{e&&Array.isArray(e)&&e.forEach((function(e){x[e]=!0}))}catch(e){console.error("Calltouch set_sync error: ",e)}},get_widget_route_key_data:function(){try{var e=[].slice.call(arguments),t=e[0],o=e[1],r="boolean"==typeof e[2]?e[2]:Boolean(x.get_widget_route_key_data),a="boolean"==typeof e[2]?e[3]:e[2],c=1e6*Math.random(),i="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/callback_widget_user_form_find.php?siteId=").concat(a.siteId,"&routeKey=").concat(t,"&pageUrl=").concat(n.location.href,"&sessionId=").concat(a.sessionId);C("".concat(i,"&rand=").concat(Math.floor(c)),null,o,r)}catch(e){console.error("Calltouch get_route_key_data error: ",e)}},create_widget_request:function(){try{var e=[].slice.call(arguments),t=e[0],r="boolean"==typeof e[1]?e[1]:Boolean(x.create_widget_request),a="boolean"==typeof e[1]?e[2]:e[1],c=1e6*Math.random(),i=o()({siteId:a.siteId,sessionId:a.sessionId,workMode:1,pageUrl:n.location.href},t),l="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/callback_request_user_form_create.php?rand=").concat(Math.floor(c));C(l,JSON.stringify(i),t.callback,r)}catch(e){console.error("Calltouch create_request error: ",e)}},init_matcher_replacement:function(e,t){u=performance.now(),le(e),d=performance.now()},replace:function(e,t){f=performance.now(),de(e),m=performance.now()},get_matcher_replacement_time:function(){return d&&u?d-u:"подмена не была запущена или время не удалось установить"},get_replacement_time:function(){return f&&m?m-f:"подмена не была запущена или время не удалось установить"},dynamic_replacement:function(e,t){!function(e,t,n){var o="".concat("https","://").concat((0,h.G3)(h.KS.backBranch),"/dynamic_replacement.php"),r={siteId:t.siteId,sessionId:t.sessionId},a=e.subPoolNamesContains?Array.isArray(e.subPoolNamesContains)?e.subPoolNamesContains:[e.subPoolNamesContains]:null;if(a&&a.length)r.subPoolNamesContains=a;else{var c=e.subPoolNames?Array.isArray(e.subPoolNames)?e.subPoolNames:[e.subPoolNames]:null;r.subPoolNames=c}(0,w.ZP)(o,r,(function(o,r){!o&&e.callback&&"function"==typeof e.callback?e.callback(!1,{type:"unknown_error"}):n(JSON.parse(r),e,t)}),!1)}(e,t,W)}};return function(){var e=[].slice.call(arguments);if("getSharedData"===e[0])return O;var n=S&&e[0].method||te[e[0]],r=Object.keys(k),a=n?e[0].method||e[0]:e[1],i=n?e[0].args||e.slice(1):e.slice(2),s=n?r.length?r[0]:null:e[0];-1===s&&(s=r[0]||l());var u=U(n,s),d=u.siteId,f=u.sessionId;if("create_session"===a){var p=Object.keys(i[0].phones).reduce((function(e,t){return i[0].phones[t].subPoolName?o()({},e,c()({},t,i[0].phones[t])):e}),{});k[i[0].modId]={siteId:i[0].siteId,sessionId:i[0].sessionId,endSessionTime:i[0].endSessionTime,domain:i[0].domain,ctClientId:i[0].setCtCookie,phones:p},te[a].apply(te,t()(i))}else{if("modules"===a&&("widgets"===i[0]||"forms"===i[0]||"dataLayer"===i[0]))return te[a].apply(te,t()(i).concat([{modId:s,siteId:d,sessionId:f,ctClientId:q}]));if(d&&f)return te[a].apply(te,t()(i).concat([{modId:s,siteId:d,sessionId:f,ctClientId:q}]));z(s,a,i)}}}(),function(){var n;if(P&&P.length)for(;n=P.shift();)e[v].apply(e,t()([].slice.call(n)))}()),e.ct_create_session=function(t){e[v]("create_session",t)},e.ct_goal=function(t){e[v]("goal",t)},e.ct_set_attrs=function(t){e[v]("set_attrs",t)},E&&E.length>0){var W={counters:E,loaded:A,checkIntegrations:K,integrationsToSend:J,calltouchObject:v,updateCookie:$};"interactive"===n.readyState||"complete"===n.readyState?g(W):(0,k.v)(n,"DOMContentLoaded",g.bind(null,W))}}(window,document)}()}();